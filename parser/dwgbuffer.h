#pragma once

#include <core/includes.h>

namespace libredwg2 {

class DWGBuffer
{
  ////////////////////////////////////////////////////////////////
  // Definitions
  ////////////////////////////////////////////////////////////////
  public:

  ////////////////////////////////////////////////////////////////
  // Members
  ////////////////////////////////////////////////////////////////
  private:
    /// The buffer to read from
    core::MemBuffer buffer_;

    /// The bit offset if present
    int offset_;

    /// The lat byte read (cf. bit offset)
    core::Buffer last_;

  ////////////////////////////////////////////////////////////////
  // Constructors & Destructor
  ////////////////////////////////////////////////////////////////
  public:
    DWGBuffer(const core::MemBuffer& buffer);

    virtual ~DWGBuffer() {}

  ////////////////////////////////////////////////////////////////
  // Operators
  ////////////////////////////////////////////////////////////////
  private:

  ////////////////////////////////////////////////////////////////
  // Functions
  ////////////////////////////////////////////////////////////////
  public:
    bool hasMore() const;

    uint8_t readRC();
};

////////////////////////////////////////////////////////////////

}
