#pragma once

#include "section2004.h"

namespace libredwg2 {

class SectionPage : public Section2004
{
  ////////////////////////////////////////////////////////////////
  // Definitions
  ////////////////////////////////////////////////////////////////
  public:
    typedef std::map<int32_t, boost::shared_ptr<Section2004> > SectionsMap;

  ////////////////////////////////////////////////////////////////
  // Members
  ////////////////////////////////////////////////////////////////
  private:
    /// All sections listed here
    SectionsMap mSections_;

    static const int32_t s_guard;

  ////////////////////////////////////////////////////////////////
  // Constructors & Destructor
  ////////////////////////////////////////////////////////////////
  public:
    SectionPage(Archive& archive, size_t offset);

    virtual ~SectionPage() {}

  ////////////////////////////////////////////////////////////////
  // Operators
  ////////////////////////////////////////////////////////////////
  private:

  ////////////////////////////////////////////////////////////////
  // Functions
  ////////////////////////////////////////////////////////////////
  private:
    virtual int32_t getGuard() const { return s_guard; }

    virtual core::ResultCode restoreData(core::IReadBuffer& buffer);
};

////////////////////////////////////////////////////////////////

}
